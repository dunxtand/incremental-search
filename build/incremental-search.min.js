window.incrementalSearch=function(t,e,n,r,i){function o(t){return t&&"function"==typeof t}r||(r=function(t){return t});var a={html:/(<([^>]+)>)/gi,punc:/[.,\/#!?$%\^&\*;:{}=\-_`~()]/g,white:/\s+/},l=3,u="result-item-link";function c(t){return t.replace(a.html,"").replace(a.punc,"").toLowerCase()}function s(t,e,n){return function(i){e.empty();var u,c,s=(u=t.val().replace(a.html,"").replace(a.punc,"").toLowerCase().split(a.white).filter(function(t){return"string"==typeof t&&t.length>=l}),r(u)),f=(c=s,[].concat.apply([],c.map(function(t){for(var e,n=[],r=l;r<t.length;++r)(e=t.substring(0,r)).length>=l&&n.push(e);return n}))),h=n.sortedMatchesFor(s,f);if(!s.length||!h.length)return o(n.onNoMatches)&&n.onNoMatches(s),!1;h.forEach(function(t){e.append(t.asListItem(s))}),o(n.afterAppend)&&n.afterAppend(s,h)}}var f=function(e){var n,i,o,f,h,p,g,d=e.highlightColor||"#000",m=e.mapping||{},v=(f=e.searchableProps,h=d,p=e.linkClass,{count:function(t){var e,n,r=0,i=t.length;for(e=0;e<i;++e)(n=t[e]).length<l||f.forEach(function(t){if(!this[t])return!1;var e,i=this[t];for(e=0;e<i.length;++e)-1!==i[e].indexOf(n)&&(r+=1)},this);return r},highlightedTitle:function(t){for(var e,n,r,i,o=this.originalTitle.split(a.white),l="<span style='font-weight:bold;color:"+h+";'>",u=0;u<o.length;++u)for(var c=0;c<t.length;++c)e=o[u].toLowerCase(),n=t[c].toLowerCase(),-1!==(i=e.indexOf(n))&&(r=o[u].substr(i,n.length),o[u]=o[u].split(r).join(l+r+"</span>"));return o.join(" ")},asListItem:function(e){var n=t("<a href='#'></a>");return n.attr("href",this.url),n.addClass(p||u),n.html(this.highlightedTitle.call(this,e)),t("<li></li>").append(n)}}),w=(n=e.data,i=v,o=m,n.map(function(e){var n=t.extend(Object.create(i),e,{originalTitle:e.title,title:c(e.title).split(a.white)});return Object.keys(n).forEach(function(t){if(o[t]&&"string"==typeof n[t]){var e=o[t].to||t,i=o[t].split,l=c(n[t]);!1!==o[t].removeStopWords&&(l=r(l)),n[e]=l.split(i||a.white)}}),n})),y=t(e.form),b=y.find("input"),C=s(b,t(e.list),{sortedMatchesFor:(g=w,function(t,e){return g.filter(function(n){return n.count(t.concat(e))>0}).sort(function(e,n){return e.count(t)>n.count(t)}).reverse()}),onNoMatches:e.onNoMatches,afterAppend:e.afterAppend});b.keyup(C),y.submit(function(t){t.preventDefault()})};return f.stopwordsModule=function(t){return"function"==typeof t&&(r=t)},f}(jQuery,window,document);
